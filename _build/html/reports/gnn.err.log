Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/usr/local/lib/python3.12/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/usr/local/lib/python3.12/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/local/lib/python3.12/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
plt.rcParams["animation.bitrate"] = 3000

def animate(i):
    G = to_networkx(data, to_undirected=True)
    plt.subplot(121)
    plt.axis('off')
    nx.draw_networkx(G,
                pos=nx.kamada_kawai_layout(G),
                with_labels=True,
                node_size=200,
                node_color=data.y,
                cmap="hsv",
                vmin=-2,
                vmax=3,
                width=0.8,
                edge_color="black",
                font_size=14
                )

    plt.title("Graphe avec labels des classes")
    plt.subplot(122)
    plt.axis('off')
    nx.draw_networkx(G,pos=nx.kamada_kawai_layout(G, ),with_labels=True,node_size=200,
                    node_color=res[i],cmap="hsv",vmin=-2,vmax=3,width=0.8,edge_color="black",font_size=14
                    )
    plt.title(f'Epoch {i} - Pr√©cision: {precisions[i]*100:.2f}%', pad=20)


fig,axs = plt.subplots(1,2,figsize=(7,5))
anim = animation.FuncAnimation(fig, animate, np.arange(0, 200, 10), interval=500, repeat=True)
html = HTML(anim.to_html5_video())
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mIndexError[0m                                Traceback (most recent call last)
Cell [0;32mIn[8], line 31[0m
[1;32m     29[0m fig,axs [38;5;241m=[39m plt[38;5;241m.[39msubplots([38;5;241m1[39m,[38;5;241m2[39m,figsize[38;5;241m=[39m([38;5;241m7[39m,[38;5;241m5[39m))
[1;32m     30[0m anim [38;5;241m=[39m animation[38;5;241m.[39mFuncAnimation(fig, animate, np[38;5;241m.[39marange([38;5;241m0[39m, [38;5;241m200[39m, [38;5;241m10[39m), interval[38;5;241m=[39m[38;5;241m500[39m, repeat[38;5;241m=[39m[38;5;28;01mTrue[39;00m)
[0;32m---> 31[0m html [38;5;241m=[39m HTML([43manim[49m[38;5;241;43m.[39;49m[43mto_html5_video[49m[43m([49m[43m)[49m)

File [0;32m/usr/local/lib/python3.12/site-packages/matplotlib/animation.py:1289[0m, in [0;36mAnimation.to_html5_video[0;34m(self, embed_limit)[0m
[1;32m   1285[0m Writer [38;5;241m=[39m writers[mpl[38;5;241m.[39mrcParams[[38;5;124m'[39m[38;5;124manimation.writer[39m[38;5;124m'[39m]]
[1;32m   1286[0m writer [38;5;241m=[39m Writer(codec[38;5;241m=[39m[38;5;124m'[39m[38;5;124mh264[39m[38;5;124m'[39m,
[1;32m   1287[0m                 bitrate[38;5;241m=[39mmpl[38;5;241m.[39mrcParams[[38;5;124m'[39m[38;5;124manimation.bitrate[39m[38;5;124m'[39m],
[1;32m   1288[0m                 fps[38;5;241m=[39m[38;5;241m1000.[39m [38;5;241m/[39m [38;5;28mself[39m[38;5;241m.[39m_interval)
[0;32m-> 1289[0m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43msave[49m[43m([49m[38;5;28;43mstr[39;49m[43m([49m[43mpath[49m[43m)[49m[43m,[49m[43m [49m[43mwriter[49m[38;5;241;43m=[39;49m[43mwriter[49m[43m)[49m
[1;32m   1290[0m [38;5;66;03m# Now open and base64 encode.[39;00m
[1;32m   1291[0m vid64 [38;5;241m=[39m base64[38;5;241m.[39mencodebytes(path[38;5;241m.[39mread_bytes())

File [0;32m/usr/local/lib/python3.12/site-packages/matplotlib/animation.py:1105[0m, in [0;36mAnimation.save[0;34m(self, filename, writer, fps, dpi, codec, bitrate, extra_args, metadata, extra_anim, savefig_kwargs, progress_callback)[0m
[1;32m   1102[0m [38;5;28;01mfor[39;00m data [38;5;129;01min[39;00m [38;5;28mzip[39m([38;5;241m*[39m[a[38;5;241m.[39mnew_saved_frame_seq() [38;5;28;01mfor[39;00m a [38;5;129;01min[39;00m all_anim]):
[1;32m   1103[0m     [38;5;28;01mfor[39;00m anim, d [38;5;129;01min[39;00m [38;5;28mzip[39m(all_anim, data):
[1;32m   1104[0m         [38;5;66;03m# TODO: See if turning off blit is really necessary[39;00m
[0;32m-> 1105[0m         [43manim[49m[38;5;241;43m.[39;49m[43m_draw_next_frame[49m[43m([49m[43md[49m[43m,[49m[43m [49m[43mblit[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m)[49m
[1;32m   1106[0m         [38;5;28;01mif[39;00m progress_callback [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[1;32m   1107[0m             progress_callback(frame_number, total_frames)

File [0;32m/usr/local/lib/python3.12/site-packages/matplotlib/animation.py:1140[0m, in [0;36mAnimation._draw_next_frame[0;34m(self, framedata, blit)[0m
[1;32m   1136[0m [38;5;28;01mdef[39;00m [38;5;21m_draw_next_frame[39m([38;5;28mself[39m, framedata, blit):
[1;32m   1137[0m     [38;5;66;03m# Breaks down the drawing of the next frame into steps of pre- and[39;00m
[1;32m   1138[0m     [38;5;66;03m# post- draw, as well as the drawing of the frame itself.[39;00m
[1;32m   1139[0m     [38;5;28mself[39m[38;5;241m.[39m_pre_draw(framedata, blit)
[0;32m-> 1140[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_draw_frame[49m[43m([49m[43mframedata[49m[43m)[49m
[1;32m   1141[0m     [38;5;28mself[39m[38;5;241m.[39m_post_draw(framedata, blit)

File [0;32m/usr/local/lib/python3.12/site-packages/matplotlib/animation.py:1768[0m, in [0;36mFuncAnimation._draw_frame[0;34m(self, framedata)[0m
[1;32m   1764[0m     [38;5;28mself[39m[38;5;241m.[39m_save_seq [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_save_seq[[38;5;241m-[39m[38;5;28mself[39m[38;5;241m.[39m_save_count:]
[1;32m   1766[0m [38;5;66;03m# Call the func with framedata and args. If blitting is desired,[39;00m
[1;32m   1767[0m [38;5;66;03m# func needs to return a sequence of any artists that were modified.[39;00m
[0;32m-> 1768[0m [38;5;28mself[39m[38;5;241m.[39m_drawn_artists [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_func[49m[43m([49m[43mframedata[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_args[49m[43m)[49m
[1;32m   1770[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39m_blit:
[1;32m   1772[0m     err [38;5;241m=[39m [38;5;167;01mRuntimeError[39;00m([38;5;124m'[39m[38;5;124mThe animation function must return a sequence [39m[38;5;124m'[39m
[1;32m   1773[0m                        [38;5;124m'[39m[38;5;124mof Artist objects.[39m[38;5;124m'[39m)

Cell [0;32mIn[8], line 24[0m, in [0;36manimate[0;34m(i)[0m
[1;32m     21[0m plt[38;5;241m.[39msubplot([38;5;241m122[39m)
[1;32m     22[0m plt[38;5;241m.[39maxis([38;5;124m'[39m[38;5;124moff[39m[38;5;124m'[39m)
[1;32m     23[0m nx[38;5;241m.[39mdraw_networkx(G,pos[38;5;241m=[39mnx[38;5;241m.[39mkamada_kawai_layout(G, ),with_labels[38;5;241m=[39m[38;5;28;01mTrue[39;00m,node_size[38;5;241m=[39m[38;5;241m200[39m,
[0;32m---> 24[0m                 node_color[38;5;241m=[39m[43mres[49m[43m[[49m[43mi[49m[43m][49m,cmap[38;5;241m=[39m[38;5;124m"[39m[38;5;124mhsv[39m[38;5;124m"[39m,vmin[38;5;241m=[39m[38;5;241m-[39m[38;5;241m2[39m,vmax[38;5;241m=[39m[38;5;241m3[39m,width[38;5;241m=[39m[38;5;241m0.8[39m,edge_color[38;5;241m=[39m[38;5;124m"[39m[38;5;124mblack[39m[38;5;124m"[39m,font_size[38;5;241m=[39m[38;5;241m14[39m
[1;32m     25[0m                 )
[1;32m     26[0m plt[38;5;241m.[39mtitle([38;5;124mf[39m[38;5;124m'[39m[38;5;124mEpoch [39m[38;5;132;01m{[39;00mi[38;5;132;01m}[39;00m[38;5;124m - Pr√©cision: [39m[38;5;132;01m{[39;00mprecisions[i][38;5;241m*[39m[38;5;241m100[39m[38;5;132;01m:[39;00m[38;5;124m.2f[39m[38;5;132;01m}[39;00m[38;5;124m%[39m[38;5;124m'[39m, pad[38;5;241m=[39m[38;5;241m20[39m)

[0;31mIndexError[0m: list index out of range

